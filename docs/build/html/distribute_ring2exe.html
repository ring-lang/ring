<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Distributing Ring Applications using Ring2EXE &mdash; Ring 1.7 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Ring 1.7 documentation" href="index.html" />
    <link rel="next" title="Low Level Functions" href="lowlevel.html" />
    <link rel="prev" title="Distributing Ring Applications" href="distribute.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="lowlevel.html" title="Low Level Functions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="distribute.html" title="Distributing Ring Applications"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Ring 1.7 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="distributing-ring-applications-using-ring2exe">
<span id="index-0"></span><h1>Distributing Ring Applications using Ring2EXE<a class="headerlink" href="#distributing-ring-applications-using-ring2exe" title="Permalink to this headline">¶</a></h1>
<p>In this chapter we will learn about distributing Ring applications.</p>
<p>Starting from Ring 1.6 we have a nice tool called Ring2EXE (Written in Ring itself)</p>
<p>Using Ring2EXE we can distribute applications quickly for Windows, Linux, macOS and Mobile devices</p>
<div class="section" id="using-ring2exe">
<span id="index-1"></span><h2>Using Ring2EXE<a class="headerlink" href="#using-ring2exe" title="Permalink to this headline">¶</a></h2>
<div class="highlight-none"><div class="highlight"><pre><span></span>ring2exe filename.ring [Options]
</pre></div>
</div>
<p>This will set filename.ring as input to the program</p>
<p>The next files will be generated</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>filename.ringo          (The Ring Object File - by Ring Compiler)
filename.c              (The C Source code file
                         Contains the ringo file content
                         Will be generated by this program)
filename_buildvc.bat    (Will be executed to build filename.c using Visual C/C++)
filename_buildgcc.bat   (Will be executed to build filename.c using GNU C/C++)
filename_buildclang.bat (Will be executed to build filename.c using CLang C/C++)
filename.obj            (Will be generated by the Visual C/C++ compiler)
filename.exe            (Will ge generated by the Visual C/C++ Linker)
filename                (Executable File - On Linux &amp; MacOS X platforms)
</pre></div>
</div>
</div>
<div class="section" id="how-ring2exe-works">
<span id="index-2"></span><h2>How Ring2EXE works?<a class="headerlink" href="#how-ring2exe-works" title="Permalink to this headline">¶</a></h2>
<p>At first the Ring compiler will be used to generate the Ring object file (<a href="#id1"><span class="problematic" id="id2">*</span></a>.ringo)</p>
<p>If we have a C compiler (optional), This object file will be embedded inside a C source code file</p>
<p>Then using the C compiler and the Ring library (Contains the Ring Virtual Machine) the executable file</p>
<p>will be generated!</p>
<p>If we don&#8217;t have a C compiler, the Ring executable will be copied and renamed to your application name</p>
<p>And your Ring object file (<a href="#id3"><span class="problematic" id="id4">*</span></a>.ringo) will become ring.ringo to be executed at startup of the executable file.</p>
<p>So it&#8217;s better and easy to have a C compiler on your machine to be used by Ring2EXE.</p>
</div>
<div class="section" id="example">
<span id="index-3"></span><h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>We have test.ring contains the next code</p>
<div class="highlight-ring"><div class="highlight"><pre><span></span><span class="k">see</span> <span class="s">&quot;Hello, World!&quot;</span> <span class="o">+</span> <span class="n">nl</span>
</pre></div>
</div>
<p>To build th executable file for Windows, Linux or macOS</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>ring2exe test.ring
</pre></div>
</div>
<p>To run the program (Windows)</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>test
</pre></div>
</div>
<p>To run the program (Linux and macOS)</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>./test
</pre></div>
</div>
</div>
<div class="section" id="options">
<span id="index-4"></span><h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<div class="highlight-none"><div class="highlight"><pre><span></span>-keep            : Don&#39;t delete Temp. Files
-static          : Build Standalone Executable File (Don&#39;t use ring.dll/ring.so/ring.dylib)
-gui             : Build GUI Application (Hide the Console Window)
-dist            : Prepare application for distribution
-allruntime      : Include all libraries in distribution
-mobileqt        : Prepare Qt Project to distribute Ring Application for Mobile
-noqt            : Remove RingQt from distribution
-noallegro       : Remove RingAllegro from distribution
-noopenssl       : Remove RingOpenSSL from distribution
-nolibcurl       : Remove RingLibCurl from distribution
-nomysql         : Remove RingMySQL from distribution
-noodbc          : Remove RingODBC from distribution
-nosqlite        : Remove RingSQLite from distribution
-noopengl        : Remove RingOpenGL from distribution
-nofreeglut      : Remove RingFreeGLUT from distribution
-nolibzip        : Remove RingLibZip from distribution
-noconsolecolors : Remove RingConsoleColors from distribution
-nomurmuhash     : Remove RingMurmurHash from distribution
-nocruntime      : Remove C Runtime from distribution
-qt              : Add RingQt to distribution
-allegro         : Add RingAllegro to distribution
-openssl         : Add RingOpenSSL to distribution
-libcurl         : Add RingLibCurl to distribution
-mysql           : Add RingMySQL to distribution
-odbc            : Add RingODBC to distribution
-sqlite          : Add RingSQLite to distribution
-opengl          : Add RingOpenGL to distribution
-freeglut        : Add RingFreeGLUT to distribution
-libzip          : Add RingLibZip to distribution
-consolecolors   : Add RingConsoleColors to distribution
-murmurhash      : Add RingMurmurHash to distribution
-cruntime        : Add C Runtime to distribution
</pre></div>
</div>
</div>
<div class="section" id="building-standalone-console-application">
<span id="index-5"></span><h2>Building standalone console application<a class="headerlink" href="#building-standalone-console-application" title="Permalink to this headline">¶</a></h2>
<p>Using the &#8220;-static&#8221; option we can build executable console application</p>
<p>So we don&#8217;t have to use ring.dll, ring.so or ring.dylib</p>
<p>This avoid only the need to Ring dynamic link library</p>
<p>If you are using another libraries, You will need to include it with your application.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>ring2exe test.ring -static
</pre></div>
</div>
</div>
<div class="section" id="distributing-ringallegro-applications">
<span id="index-6"></span><h2>Distributing RingAllegro Applications<a class="headerlink" href="#distributing-ringallegro-applications" title="Permalink to this headline">¶</a></h2>
<p>We have test2.ring contains the next code</p>
<div class="highlight-ring"><div class="highlight"><pre><span></span><span class="c"># Just a simple program to test Ring2EXE Tool!</span>
<span class="c"># Using RingAllegro</span>

<span class="k">load</span> <span class="s">&quot;gameengine.ring&quot;</span>  <span class="c"># Give Control to the Game Engine</span>

<span class="k">func</span> <span class="n">main</span>               <span class="c"># Called by the Game Engine</span>

        <span class="n">oGame</span> <span class="o">=</span> <span class="k">New</span> <span class="n">Game</span>        <span class="c"># Create the Game Object</span>
        <span class="p">{</span>
                <span class="n">title</span> <span class="o">=</span> <span class="s">&quot;My First Game&quot;</span>
        <span class="p">}</span>
</pre></div>
</div>
<p>To build the executable file and prepare for distributing the Game</p>
<p>We use &#8220;-dist&#8221; option and &#8220;-allruntime&#8221; to include all libraries</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>ring2exe test2.ring -dist -allruntime
</pre></div>
</div>
<p>After executing the previous command</p>
<p>On Windows we will have : target/windows folder</p>
<p>On Linux we will have   : target/linux folder</p>
<p>On macOS we will have   : target/macos folder</p>
<p>The previous command will add all of the Ring runtime libraries to our distribution</p>
<p>But we may need only RingAllegro, So it&#8217;s better to use the next command</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>ring2exe test2.ring -dist -allegro -cruntime
</pre></div>
</div>
<p>This will produce smaller size distribution and will avoid the runtime files that we don&#8217;t need!</p>
<p>Also we could use the &#8220;-gui&#8221; option to hide the console window</p>
<p>So it&#8217;s better to use the next command</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>ring2exe test2.ring -dist -gui -allegro -cruntime
</pre></div>
</div>
</div>
<div class="section" id="distributing-ringqt-applications">
<span id="index-7"></span><h2>Distributing RingQt Applications<a class="headerlink" href="#distributing-ringqt-applications" title="Permalink to this headline">¶</a></h2>
<p>We have test3.ring contains the next code</p>
<div class="highlight-ring"><div class="highlight"><pre><span></span><span class="c"># Just a simple program to test Ring2EXE Tool!</span>
<span class="c"># Using RingQt</span>

<span class="k">load</span> <span class="s">&quot;guilib.ring&quot;</span>

<span class="k">new</span> <span class="n">qApp</span> <span class="p">{</span>
        <span class="k">new</span> <span class="n">qWidget</span><span class="p">()</span> <span class="p">{</span>
                <span class="n">setwindowtitle</span><span class="p">(</span><span class="s">&quot;Hello, World!&quot;</span><span class="p">)</span>
                <span class="n">resize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="mi">400</span><span class="p">)</span>
                <span class="n">show</span><span class="p">()</span>
        <span class="p">}</span>
        <span class="n">exec</span><span class="p">()</span>
<span class="p">}</span>
</pre></div>
</div>
<p>To build the executable file and prepare for distributing the GUI application</p>
<p>We use &#8220;-dist&#8221; option and &#8220;-allruntime&#8221; to include all libraries</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>ring2exe test3.ring -dist -allruntime
</pre></div>
</div>
<p>After executing the previous command</p>
<p>On Windows we will have : target/windows folder</p>
<p>On Linux we will have   : target/linux folder</p>
<p>On macOS we will have   : target/macos folder</p>
<p>The previous command will add all of the Ring runtime libraries to our distribution</p>
<p>But we may need only RingQt, So it&#8217;s better to use the next command</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>ring2exe test3.ring -dist -qt -cruntime
</pre></div>
</div>
<p>This will produce smaller size distribution and will avoid the runtime files that we don&#8217;t need!</p>
<p>Also we could use the &#8220;-gui&#8221; option to hide the console window</p>
<p>So it&#8217;s better to use the next command</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>ring2exe test3.ring -dist -gui -qt -cruntime
</pre></div>
</div>
</div>
<div class="section" id="distributing-applications-for-mobile-using-ringqt">
<span id="index-8"></span><h2>Distributing Applications for Mobile using RingQt<a class="headerlink" href="#distributing-applications-for-mobile-using-ringqt" title="Permalink to this headline">¶</a></h2>
<p>To prepare a Qt project for your RingQt application (test3.ring) use the &#8220;-mobileqt&#8221; option</p>
<p>Example :</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>ring2exe test3.ring -dist -mobileqt
</pre></div>
</div>
<p>After executing the previous command, We will have the Qt project in target/mobile/qtproject folder</p>
<p>The main project file will be project.pro which we can open using the Qt Creator IDE.</p>
<p>Also we will have the resource file : project.qrc</p>
<p>Another important file is our C++ main file : main.cpp</p>
</div>
<div class="section" id="building-the-cards-game-for-mobile-using-ringqt">
<span id="index-9"></span><h2>Building the Cards Game for Mobile using RingQt<a class="headerlink" href="#building-the-cards-game-for-mobile-using-ringqt" title="Permalink to this headline">¶</a></h2>
<p>For a better example, consider building an Android package for the Cards game that comes with the</p>
<p>Ring language in this folder : ring/application/cards</p>
<p>The Cards game folder contains three files</p>
<p>cards.ring : The Game source code</p>
<p>cards.jpg : The image file used by the game</p>
<p>project.qrc : Resource file to be used with the Qt project</p>
<p>The resource file contains the next content</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&lt;RCC&gt;
        &lt;qresource&gt;
                &lt;file&gt;cards.ringo&lt;/file&gt;
                &lt;file&gt;cards.jpg&lt;/file&gt;
        &lt;/qresource&gt;
&lt;/RCC&gt;
</pre></div>
</div>
<p>We have two files in the resource file</p>
<p>The first file is cards.ringo (The Ring Object File) and the second file is cards.jpg (The image file)</p>
<p>As a start, Ring2EXE will generate this resource file in target/mobile/qtproject/project.qrc</p>
<p>But this file will contains only cards.ringo (That Ring2EXE will generate by calling Ring compiler)</p>
<p>We need to update this resource file to add the image file : cards.jpg</p>
<p>After this update, we copy the resource file to the main application folder</p>
<p>So when we use Ring2EXE again, Our updated resource file will be used!</p>
<p>Now to build the cards game for Mobile</p>
<ol class="arabic simple">
<li>Run the next command</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>ring2exe cards.ring -dist -mobileqt
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Open target/mobile/qtproject/project.pro using Qt creator</li>
<li>Build and Run using Qt Creator</li>
</ol>
<p>How the Cards game will find the image file ?</p>
<p>RingQt comes with a simple function : AppFile() that we can use to determine the files that we may</p>
<p>access on Desktop or Mobile platforms</p>
<p>The next code from cards.ring</p>
<div class="highlight-ring"><div class="highlight"><pre><span></span><span class="n">mypic</span> <span class="o">=</span> <span class="k">new</span> <span class="n">QPixmap</span><span class="p">(</span><span class="n">AppFile</span><span class="p">(</span><span class="s">&quot;cards.jpg&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>So all what you need is using AppFile() function around your image files!</p>
</div>
<div class="section" id="building-the-weight-history-application-for-mobile-using-ringqt">
<span id="index-10"></span><h2>Building the Weight History Application for Mobile using RingQt<a class="headerlink" href="#building-the-weight-history-application-for-mobile-using-ringqt" title="Permalink to this headline">¶</a></h2>
<p>Another example to distribute your application for Mobile Devices using Ring2EXE and Qt</p>
<p>consider building an Android package for the Weight History application that comes with the</p>
<p>Ring language in this folder : ring/application/weighthistory</p>
<p>The Weight History application folder contains four files</p>
<p>weighthistory.ring : The application source code</p>
<p>weighthistory.db  : The SQLite database</p>
<p>project.qrc : The resource file for the Qt project</p>
<p>main.cpp : The main C++ source file for the Qt project</p>
<p>To build the Weight History application for Mobile</p>
<ol class="arabic simple">
<li>Run the next command</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>ring2exe weighthistory.ring -dist -mobileqt
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Open target/mobile/qtproject/project.pro using Qt creator</li>
<li>Build and Run using Qt Creator</li>
</ol>
<p>The resource file (project.qrc) contains two files</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&lt;RCC&gt;
        &lt;qresource&gt;
                &lt;file&gt;weighthistory.ringo&lt;/file&gt;
                &lt;file&gt;weighthistory.db&lt;/file&gt;
        &lt;/qresource&gt;
&lt;/RCC&gt;
</pre></div>
</div>
<p>The first file is weighthistory.ringo (Ring Object File - Generated by Ring2EXE by calling Ring compiler)</p>
<p>The database file : weighthistory.db</p>
<p>The main.cpp contains the next little update, To copy the database file from resources to a writable location</p>
<p>on the mobile device</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>QString path3 ;
path3 = path+&quot;/weighthistory.db&quot;;
QFile::copy(&quot;:/weighthistory.db&quot;,path3);
</pre></div>
</div>
<p>You will need to do this with database files only!</p>
<p>When we use Ring2EXE, the tool will check for project.qrc and main.cpp, if they exist then your updated</p>
<p>files will be used in target/mobile/qtproject instead of the default version generated by Ring2EXE</p>
<p>So Use Ring2EXE to generate these files, Then copy them to your application folder when you update them.</p>
</div>
<div class="section" id="building-the-form-designer-for-mobile-using-ringqt">
<span id="index-11"></span><h2>Building the Form Designer for Mobile using RingQt<a class="headerlink" href="#building-the-form-designer-for-mobile-using-ringqt" title="Permalink to this headline">¶</a></h2>
<p>To build the Form Designer application (ring/applications/formdesigner) for Mobile</p>
<ol class="arabic simple">
<li>Run the next command</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>ring2exe formdesigner.ring -dist -mobileqt
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Open target/mobile/qtproject/project.pro using Qt creator</li>
<li>Build and Run using Qt Creator</li>
</ol>
<p>in the folder ring/application/formdesigner You will find the resource file : project.qrc</p>
<p>It will be used automatically by Ring2EXE</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&lt;RCC&gt;
        &lt;qresource&gt;
                &lt;file&gt;formdesigner.ringo&lt;/file&gt;
                &lt;file&gt;image/allevents.png&lt;/file&gt;
                &lt;file&gt;image/checkbox.png&lt;/file&gt;
                &lt;file&gt;image/close.png&lt;/file&gt;
                &lt;file&gt;image/combobox.bmp&lt;/file&gt;
                &lt;file&gt;image/datepicker.bmp&lt;/file&gt;
                &lt;file&gt;image/dial.png&lt;/file&gt;
                &lt;file&gt;image/formdesigner.png&lt;/file&gt;
                &lt;file&gt;image/frame.png&lt;/file&gt;
                &lt;file&gt;image/grid.bmp&lt;/file&gt;
                &lt;file&gt;image/hyperlink.png&lt;/file&gt;
                &lt;file&gt;image/image.png&lt;/file&gt;
                &lt;file&gt;image/label.png&lt;/file&gt;
                &lt;file&gt;image/layout.png&lt;/file&gt;
                &lt;file&gt;image/lcdnumber.png&lt;/file&gt;
                &lt;file&gt;image/listview.png&lt;/file&gt;
                &lt;file&gt;image/lock.png&lt;/file&gt;
                &lt;file&gt;image/new.png&lt;/file&gt;
                &lt;file&gt;image/open.png&lt;/file&gt;
                &lt;file&gt;image/progressbar.png&lt;/file&gt;
                &lt;file&gt;image/project.png&lt;/file&gt;
                &lt;file&gt;image/pushbutton.png&lt;/file&gt;
                &lt;file&gt;image/radiobutton.png&lt;/file&gt;
                &lt;file&gt;image/save.png&lt;/file&gt;
                &lt;file&gt;image/saveas.png&lt;/file&gt;
                &lt;file&gt;image/select.png&lt;/file&gt;
                &lt;file&gt;image/slider.png&lt;/file&gt;
                &lt;file&gt;image/spinner.bmp&lt;/file&gt;
                &lt;file&gt;image/statusbar.png&lt;/file&gt;
                &lt;file&gt;image/tab.png&lt;/file&gt;
                &lt;file&gt;image/textarea.png&lt;/file&gt;
                &lt;file&gt;image/textfield.png&lt;/file&gt;
                &lt;file&gt;image/timer.png&lt;/file&gt;
                &lt;file&gt;image/toolbar.png&lt;/file&gt;
                &lt;file&gt;image/tree.bmp&lt;/file&gt;
                &lt;file&gt;image/videowidget.png&lt;/file&gt;
                &lt;file&gt;image/webview.png&lt;/file&gt;
        &lt;/qresource&gt;
&lt;/RCC&gt;
</pre></div>
</div>
<p>As we did in the Cards game, The Form Designer will use the AppFile() function to determine the
name of the Image files.</p>
<p>The next code from ring/applications/formdesigner/mainwindow/formdesignerview.ring</p>
<div class="highlight-ring"><div class="highlight"><pre><span></span><span class="k">func</span> <span class="n">CreateToolBar</span>
        <span class="n">aBtns</span> <span class="o">=</span> <span class="o">[</span>
                        <span class="k">new</span> <span class="n">qtoolbutton</span><span class="p">(</span><span class="n">win</span><span class="p">)</span> <span class="p">{</span>
                                <span class="n">setbtnimage</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="n">AppFile</span><span class="p">(</span><span class="s">&quot;image/new.png&quot;</span><span class="p">))</span>
                                <span class="n">setclickevent</span><span class="p">(</span><span class="n">Method</span><span class="p">(:</span><span class="n">NewAction</span><span class="p">))</span>
                                <span class="n">settooltip</span><span class="p">(</span><span class="s">&quot;New File&quot;</span><span class="p">)</span>
                        <span class="p">}</span> <span class="p">,</span>
                        <span class="k">new</span> <span class="n">qtoolbutton</span><span class="p">(</span><span class="n">win</span><span class="p">)</span> <span class="p">{</span>
                                <span class="n">setbtnimage</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="n">AppFile</span><span class="p">(</span><span class="s">&quot;image/open.png&quot;</span><span class="p">))</span>
                                <span class="n">setclickevent</span><span class="p">(</span><span class="n">Method</span><span class="p">(:</span><span class="n">OpenAction</span><span class="p">))</span>
                                <span class="n">settooltip</span><span class="p">(</span><span class="s">&quot;Open File&quot;</span><span class="p">)</span>
                        <span class="p">}</span> <span class="p">,</span>
                        <span class="k">new</span> <span class="n">qtoolbutton</span><span class="p">(</span><span class="n">win</span><span class="p">)</span> <span class="p">{</span>
                                <span class="n">setbtnimage</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="n">AppFile</span><span class="p">(</span><span class="s">&quot;image/save.png&quot;</span><span class="p">))</span>
                                <span class="n">setclickevent</span><span class="p">(</span><span class="n">Method</span><span class="p">(:</span><span class="n">SaveAction</span><span class="p">))</span>
                                <span class="n">settooltip</span><span class="p">(</span><span class="s">&quot;Save&quot;</span><span class="p">)</span>
                         <span class="p">}</span> <span class="p">,</span>
                        <span class="k">new</span> <span class="n">qtoolbutton</span><span class="p">(</span><span class="n">win</span><span class="p">)</span> <span class="p">{</span>
                                <span class="n">setbtnimage</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="n">AppFile</span><span class="p">(</span><span class="s">&quot;image/saveas.png&quot;</span><span class="p">))</span>
                                <span class="n">setclickevent</span><span class="p">(</span><span class="n">Method</span><span class="p">(:</span><span class="n">SaveAsAction</span><span class="p">))</span>
                                <span class="n">settooltip</span><span class="p">(</span><span class="s">&quot;Save As&quot;</span><span class="p">)</span>
                         <span class="p">}</span> <span class="p">,</span>
                        <span class="k">new</span> <span class="n">qtoolbutton</span><span class="p">(</span><span class="n">win</span><span class="p">)</span> <span class="p">{</span>
                                <span class="n">setbtnimage</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="n">AppFile</span><span class="p">(</span><span class="s">&quot;image/close.png&quot;</span><span class="p">))</span>
                                <span class="n">setclickevent</span><span class="p">(</span><span class="n">Method</span><span class="p">(:</span><span class="n">ExitAction</span><span class="p">))</span>
                                <span class="n">settooltip</span><span class="p">(</span><span class="s">&quot;Exit&quot;</span><span class="p">)</span>
                        <span class="p">}</span>
                <span class="o">]</span>

        <span class="n">tool1</span> <span class="o">=</span> <span class="n">win</span><span class="p">.</span><span class="n">addtoolbar</span><span class="p">(</span><span class="s">&quot;files&quot;</span><span class="p">)</span>  <span class="p">{</span>
                <span class="k">for</span> <span class="n">x</span> <span class="k">in</span> <span class="n">aBtns</span> <span class="p">{</span> <span class="n">addwidget</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="n">addseparator</span><span class="p">()</span> <span class="p">}</span>
        <span class="p">}</span>
</pre></div>
</div>
<p>From this example, We know that we can use sub folders for images.</p>
</div>
<div class="section" id="creating-the-qt-resource-file-using-folder2qrc">
<span id="index-12"></span><h2>Creating the Qt resource file using Folder2qrc<a class="headerlink" href="#creating-the-qt-resource-file-using-folder2qrc" title="Permalink to this headline">¶</a></h2>
<p>When we have large RingQt project that contains a lot of images and files, We need to add these files
to the resource file ( <a href="#id5"><span class="problematic" id="id6">*</span></a>.qrc ) when distributing applications for Mobile devices.</p>
<p>Instead of adding these files one by one, Ring 1.6 comes with a simple tool that save our time, It&#8217;s
called Folder2qrc.</p>
<p>Example:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>folder2qrc formdesigner.ring
</pre></div>
</div>
<p>We determine the main source file while we are in the application folder, and Folder2qrc will check all
of the files in the current folder and sub folders, Then add them to the resource file after the
mainfile.ringo (In our example this will be formdesigner.ringo)</p>
<p>The output file will be : project.qrc</p>
<p>You can open it and remove the files that you don&#8217;t need in the resources!</p>
</div>
<div class="section" id="important-information-about-ring2exe">
<span id="index-13"></span><h2>Important Information about Ring2EXE<a class="headerlink" href="#important-information-about-ring2exe" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Using Ring2EXE to prepare distribution will delete all of the files in the old distribution</li>
</ul>
<p>for example, if you have target/windows folder then used</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>ring2exe test3.ring -dist -allruntime
</pre></div>
</div>
<p>The files in target/windows will be deleted before adding the files again</p>
<p>This is important when you prepare a distribution for Mobile devices</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>ring2exe test3.ring -dist -mobileqt
</pre></div>
</div>
<p>If you modified the resource file : project.qrc or the main file : main.cpp</p>
<p>Don&#8217;t forget to copy them to the application folder!</p>
<p>So Ring2EXE can use the updated version if you tried the previous command again!</p>
<ul>
<li><p class="first">Ring2EXE is written in Ring, and you can read the source code from</p>
<blockquote>
<div><p><a class="reference external" href="https://github.com/ring-lang/ring/blob/master/ring2exe/ring2exe.ring">https://github.com/ring-lang/ring/blob/master/ring2exe/ring2exe.ring</a></p>
</div></blockquote>
</li>
<li><p class="first">The libraries information are stored in a separated file, So this file can be updated in the future</p>
</li>
</ul>
<p>automatically to support new libraries</p>
<blockquote>
<div><a class="reference external" href="https://github.com/ring-lang/ring/blob/master/ring2exe/ring2exe.data">https://github.com/ring-lang/ring/blob/master/ring2exe/ring2exe.data</a></div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Distributing Ring Applications using Ring2EXE</a><ul>
<li><a class="reference internal" href="#using-ring2exe">Using Ring2EXE</a></li>
<li><a class="reference internal" href="#how-ring2exe-works">How Ring2EXE works?</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
<li><a class="reference internal" href="#options">Options</a></li>
<li><a class="reference internal" href="#building-standalone-console-application">Building standalone console application</a></li>
<li><a class="reference internal" href="#distributing-ringallegro-applications">Distributing RingAllegro Applications</a></li>
<li><a class="reference internal" href="#distributing-ringqt-applications">Distributing RingQt Applications</a></li>
<li><a class="reference internal" href="#distributing-applications-for-mobile-using-ringqt">Distributing Applications for Mobile using RingQt</a></li>
<li><a class="reference internal" href="#building-the-cards-game-for-mobile-using-ringqt">Building the Cards Game for Mobile using RingQt</a></li>
<li><a class="reference internal" href="#building-the-weight-history-application-for-mobile-using-ringqt">Building the Weight History Application for Mobile using RingQt</a></li>
<li><a class="reference internal" href="#building-the-form-designer-for-mobile-using-ringqt">Building the Form Designer for Mobile using RingQt</a></li>
<li><a class="reference internal" href="#creating-the-qt-resource-file-using-folder2qrc">Creating the Qt resource file using Folder2qrc</a></li>
<li><a class="reference internal" href="#important-information-about-ring2exe">Important Information about Ring2EXE</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="distribute.html"
                        title="previous chapter">Distributing Ring Applications</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="lowlevel.html"
                        title="next chapter">Low Level Functions</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/distribute_ring2exe.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="lowlevel.html" title="Low Level Functions"
             >next</a> |</li>
        <li class="right" >
          <a href="distribute.html" title="Distributing Ring Applications"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Ring 1.7 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016-2017, Eng. Mahmoud Fayed and Dr. Atif Alamri.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>